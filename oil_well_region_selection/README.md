# Выбор региона для разработки нефтяного месторождения 

Разработана бизнес-модель для выбора региона для дальнейшей разработки нефтяных месторождений. Для оценки распределения прибыли  региона используятся техника бутстреп.

## Ссылка на полноценный просмотр ноутбука

https://nbviewer.org/github/anton-kaptoh/Practicum/blob/main/oil_well_region_selection/OilWellsRegionSelection.ipynb

## Tags
bootstrap, matplotlib, LinearRegression, regression

## Шаги/ход исследования
- [1. Выбор локации для скважины](#1.-Выбор-локации-для-скважины)
  - [1.1. Загрузка и подготовка данных](#1.1.-Загрузка-и-подготовка-данных)
    - [1.1.1. Загрузка данных](#1.1.1.-Загрузка-данных)
    - [1.1.2. Предварительный анализ и обработка даных](#1.1.2.-Предварительный-анализ-и-обработка-даных)
    - [1.1.3. Разделение на обучающую и валидационную выборки](#1.1.3.-Разделение-на-обучающую-и-валидационную-выборки)
  - [1.2. Обучение и проверка модели](#1.2.-Обучение-и-проверка-модели)
  - [1.3. Подготовка к расчёту прибыли](#1.3.-Подготовка-к-расчёту-прибыли)
    - [1.3.1. Ключевые значения для расчетов](#1.3.1.-Ключевые-значения-для-расчетов)
    - [1.3.2. Объем сырья для безубыточности новой скважины](#1.3.2.-Объем-сырья-для-безубыточности-новой-скважины)
  - [1.4. Расчёт прибыли и рисков](#1.4.-Расчёт-прибыли-и-рисков)
    - [1.4.1. Функция для расчёта прибыли по выбранным скважинам и предсказаниям модели](#1.4.1.-Функция-для-расчёта-прибыли-по-выбранным-скважинам-и-предсказаниям-модели)
    - [1.4.2. Риски и прибыль для каждого региона:](#1.4.2.-Риски-и-прибыль-для-каждого-региона:)
  - [1.5. Общий вывод](#1.5.-Общий-вывод)

## Выводы
Выполнив предварительный анализ данных мы обнаружили следующие особенности данных по регионам:
* В <b>первом регионе</b> самый высокий коэффициент Пирсона имеет признак f2 (0.48), на pairplot-графике также виден "линейный наклон" группы точек для связи f2-product, хоть они и находятся достаточно разреженно относительно их срединной линии. Два других признака имеют крайне слабую линейную прямую (коэф. Пирсона 0.14) и обратную (коэф. Пирсона -0.19) связь со значениями запасов.
* Во <b>втором регионе</b> присутствует линейная связь product от f2 (коэффициент Пирсона 1.00). На pairplot графике также видна эта линейная связь, причем значения f2 и product дискретные, что видно также на их гистограммах. Остальные признаки схожи и по корреляционным значениям и по pairplot-графикам с параметрами шума (искуственный признак noise)
* В <b>третьем регионе</b> единственный признак имеющий связь хоть сколько близкую к линейной с объемом запасов - это также f2 (коэф. Пирсона 0.45), остальные признаки также схожи и по корреляционным значениям и по pairplot-графикам с параметрами шума (искуственный признак noise).
<b>Средние предсказаные и реальные запасы</b> в регионах примерно одинаковые (93/68/94) и не дотягивают до необходимого для <b>безубыточности</b> объема запасов скважины (~111). Но так как по условиям задачи мы выбираем 200 лучших из 500 отобранных скважин, то с учетом рассеивания значений случайной величины (см. среднеквадратическое отклонение выше) безубыточность может быть достигнута, что мы и доказали далее.
После оценки рисков оставляем регион в котором <b>вероятность убытков меньше 2.5%</b> - единственный отвечающий этому условию регион - <b>Region 2</b> (вероятность убытков примерно 1.3%), кроме того, в этом же регионе получилась <b>самая высокая средняя прибыль (451 миллион)</b>. Для этого региона <b>95% доверительный интервал: (50.4 миллиона - 853 миллиона)</b>. При этом для получения более статистически значимых результатов мы увеличили число выборок на порядок до 10к.
Таким образом, <b>для разработки скважин предлагается второй регион</b>, относительно которого у модели получились самые точные результаты предсказаний и в котором мы получили самые высокие оценки бизнес-параметроов.